'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hooks = exports.BaseWebAPI = undefined;

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

exports.objectToQueryString = objectToQueryString;
exports.remapParams = remapParams;
exports.createAPI = createAPI;

var _BaseWebAPI = require('./BaseWebAPI');

var _BaseWebAPI2 = _interopRequireDefault(_BaseWebAPI);

var _hooks = require('./hooks');

var _hooks2 = _interopRequireDefault(_hooks);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function objectToQueryString(params) {
  var paramMappings = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

  // Maps internal query params to what they should be externally
  return (0, _keys2.default)(params).map(function (key) {
    var queryKey = !paramMappings[key] ? key : paramMappings[key];
    return [queryKey, params[key]].join('=');
  }).join('&');
}

function remapParams(params, paramMappings) {
  // Maps internal query params to what they should be externally
  var mappedParams = {};

  (0, _keys2.default)(params).forEach(function (key) {
    var queryKey = !paramMappings[key] ? key : paramMappings[key];
    mappedParams[queryKey] = params[key];
  });

  return mappedParams;
}

function createAPI(apiClass, options) {
  return new apiClass(options);
}

exports.BaseWebAPI = _BaseWebAPI2.default;
exports.hooks = _hooks2.default;